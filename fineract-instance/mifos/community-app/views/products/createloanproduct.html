<div class="col-md-12">
<ul class="breadcrumb">
    <li><a href="#/products">{{'label.anchor.products' | translate}}</a></li>
    <li><a href="#/loanproducts">{{'label.anchor.loanproducts' | translate}}</a></li>
    <li class="active">{{'label.anchor.createloanproduct' | translate}}</li>
</ul>
<form class="form-horizontal well" name="createloanproductform" ng-controller="CreateLoanProductController"
      novalidate="" rc-submit="submit()">
<api-validate></api-validate>
<fieldset>
<h3>{{ 'label.heading.details' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.productname' | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.productname' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="name" late-validate name="name" ng-model="formData.name"
               required type="text"/>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="name" valattributeform="createloanproductform"/>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.product.shortname' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.shortname' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="shortName" late-validate maxlength="4"
               name="shortName" ng-model="formData.shortName" required type="text"/>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="shortName" valattributeform="createloanproductform"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.description' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.description' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <textarea class="form-control" ng-model="formData.description" rows="2"></textarea>
    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.fund' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.fund' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="fundId" ng-model="formData.fundId"
                ng-options="fund.id as fund.name for fund in product.fundOptions"
                value="{{fund.id}}">
            <option value="">{{'label.selectfund' | translate}}</option>
        </select>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.startdate' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.startdate' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" datepicker-pop="dd MMMM yyyy" id="startDate" is-open="opened"
               max="'2020-06-22'" min="minDate" ng-model="date.first"
               sort type="text"/>
    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.closedate' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.closedate' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" datepicker-pop="dd MMMM yyyy" id="closeDate" is-open="opened1"
               max="'2020-06-22'" min="minDate" ng-model="date.second"
               sort type="text"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.includeinborrowerloancounter' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.includeborrower' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="checkbox col-sm-2">
        <label>
            <input ng-false-value="false" ng-model="formData.includeInBorrowerCycle" ng-true-value="true"
                   type="checkbox">
        </label>
    </div>
</div>
<h3>{{ 'label.heading.currency' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.currency' | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.currency' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="currencyCode" ng-model="formData.currencyCode"
                ng-options="currency.code as currency.name for currency in product.currencyOptions"
                value="{{currency.code}}"></select>
    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.decimalplaces' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.decimalplaces' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="digitsAfterDecimal" late-validate name="decimalplace"
               ng-model="formData.digitsAfterDecimal" required type="text"/>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="decimalplace" valattributeform="createloanproductform"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.currencyinmultiplesof' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.currencyinmultiplesof' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="inMultiplesOf" late-validate name="multiplesof"
               ng-model="formData.inMultiplesOf" required type="text"/>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="multiplesof" valattributeform="createloanproductform"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.installmentinmultiplesof' | translate }}<span
            class="required">*</span></label>

    <div class="col-sm-2">
        <input class="form-control" id="installmentAmountInMultiplesOf" name="installmentAmountInMultiplesOf"
               ng-model="formData.installmentAmountInMultiplesOf"
               type="text"/>
    </div>
</div>
<h3>{{ 'label.heading.terms' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.useborrowerloancounter' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.useborrowerloancounter' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="checkbox col-sm-2">
        <label>
            <input ng-model="formData.useBorrowerCycle" type="checkbox"/>
        </label>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.principal' | translate }}
        <span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.principal' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="minPrincipal" ng-model="formData.minPrincipal"
               number-format placeholder="{{'label.input.minimum' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="principal" late-validate name="principal"
               ng-model="formData.principal" number-format placeholder="{{'label.input.default' | translate}}" required type="text"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="maxPrincipal" ng-model="formData.maxPrincipal"
               number-format placeholder="{{'label.input.maximum' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="principal" valattributeform="createloanproductform"/>
    </div>
</div>
<div class="form-group" ng-show="formData.useBorrowerCycle">
    <label class="control-label col-sm-2">{{'label.heading.principalCycleVariations' | translate}}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.principalcyclevariations' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <a class="btn btn-primary" ng-click="addPrincipalVariation()">{{ 'label.button.add' | translate }}</a>
    </div>
    <div class="col-md-9 col-sm-offset-2" data-ng-show="pvFlag">
        <table class="table">
            <tr class="graybg">
                <th></th>
                <th class="center">{{'label.input.cyclenumber' | translate}}</th>
                <th class="center">{{'label.input.minimum' | translate}}</th>
                <th class="center">{{'label.input.default' | translate}}</th>
                <th class="center">{{'label.input.maximum' | translate}}</th>
                <th></th>
            </tr>
            <tr ng-repeat="borrowerCycleVariation in formData.principalVariationsForBorrowerCycle">
                <td class="col-sm-2">
                    <select class="marginleftn19px form-control"
                            id="principalValueUsageCondition{{$index}}"
                            ng-model="borrowerCycleVariation.valueConditionType"
                            ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions" value="{{valueConditionType.id}}"></select>
                </td>
                <td><input class="form-control" id="principalCycleNumber{{$index}}" ng-model="borrowerCycleVariation.borrowerCycleNumber"
                           type="text"/>
                </td>
                <td>
                    <input class="form-control" id="principalborrowerCycleId{{$index}}" ng-model="borrowerCycleVariation.id"
                           type="hidden"/>
                    <input class="form-control" id="minPrincipalPerCycle{{$index}}" ng-model="borrowerCycleVariation.minValue"
                           type="text"/>
                </td>
                <td>
                    <input class="form-control" id="principalPerCycle{{$index}}" name="principalPerCycle{{$index}}"
                           ng-model="borrowerCycleVariation.defaultValue"
                           type="text"/>

                </td>
                <td><input class="form-control" id="maxPrincipalPerCycle{{$index}}" ng-model="borrowerCycleVariation.maxValue"
                           type="text"/></td>
                <td><a ng-click="deletePrincipalVariation($index)"><i
                        class="fa fa-remove "></i></a>

                </td>
            </tr>
        </table>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.numofrepayments' | translate }}
        <span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.numofrepayments' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="minNumberOfRepayments" ng-model="formData.minNumberOfRepayments"
               placeholder="{{'label.input.minimum' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="numberOfRepayments" late-validate
               name="numofrepayments" ng-model="formData.numberOfRepayments" placeholder="{{'label.input.default' | translate}}" required
               type="text"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="maxNumberOfRepayments" ng-model="formData.maxNumberOfRepayments"
               placeholder="{{'label.input.maximum' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="numofrepayments" valattributeform="createloanproductform"/>
    </div>
</div>

<div class="form-group" ng-show="formData.useBorrowerCycle">
    <label class="control-label col-sm-2">{{'label.heading.numerOfRepaymentCycleVariations' | translate}}
        <i class="fa fa-question-sign"
           tooltip="{{'label.tooltip.loanproduct.numerofrepaymentcyclevariations' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <a class="btn btn-primary" ng-click="addNumberOfRepaymentVariation()">{{ 'label.button.add' | translate }}</a>
    </div>
    <div class="col-md-9 col-sm-offset-2" data-ng-show="rvFlag">
        <table class="table">
            <tr class="graybg">
                <th></th>
                <th class="center">{{'label.input.cyclenumber' | translate}}</th>
                <th class="center">{{'label.input.minimum' | translate}}</th>
                <th class="center">{{'label.input.default' | translate}}</th>
                <th class="center">{{'label.input.maximum' | translate}}</th>
                <th></th>
            </tr>
            <tr ng-repeat="borrowerCycleVariation in formData.numberOfRepaymentVariationsForBorrowerCycle">
                <td class="col-sm-2">
                    <select class="marginleftn19px form-control"
                            id="repaymentValueUsageCondition{{$index}}"
                            ng-model="borrowerCycleVariation.valueConditionType"
                            ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions"
                            value="{{valueConditionType.id}}"></select>
                </td>
                <td><input class="form-control" id="repaymentCycleNumber{{$index}}" ng-model="borrowerCycleVariation.borrowerCycleNumber"
                           type="text"/>
                </td>
                <td>
                    <input class="form-control" id="repaymentborrowerCycleId{{$index}}" ng-model="borrowerCycleVariation.id"
                           type="hidden"/>
                    <input class="form-control" id="minrepaymentPerCycle{{$index}}" ng-model="borrowerCycleVariation.minValue"
                           type="text"/>
                </td>
                <td>
                    <input class="form-control" id="repaymentPerCycle{{$index}}" ng-model="borrowerCycleVariation.defaultValue"
                           type="text"/>

                </td>
                <td><input class="form-control" id="maxrepaymentPerCycle{{$index}}" ng-model="borrowerCycleVariation.maxValue"
                           type="text"/></td>
                <td><a ng-click="deleterepaymentVariation($index)"><i
                        class="fa fa-remove "></i></a>

                </td>
            </tr>
        </table>
    </div>
</div>

<div class="form-group">
    <div class="col-sm-3">
        <input name="name1" ng-model="formData.isLinkedToFloatingInterestRates" type="checkbox"/>
        {{'label.input.islinedtofloatinginterestrates' | translate}}
    </div>
</div>

<div class="form-group" ng-show="formData.isLinkedToFloatingInterestRates">
    <label class="control-label col-sm-2">{{ 'label.input.floatinginterestrate' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.floatinginterestrate' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="floatingrateoptions"
                name="floatingrateoptions"
                ng-model="formData.floatingRatesId"
                ng-options="floatingrateoption.id as floatingrateoption.name for floatingrateoption in floatingRateOptions" value="{{floatingrateoption.id}}">
            <option value="">{{'label.selectfloatingrateoption' | translate}}</option>
        </select>
    </div>

    <div class="col-sm-2">
        <input class="form-control" id="differentialinterest" name="differentialinterest" ng-model="formData.interestRateDifferential"
               number-format
               placeholder="{{'label.input.differentialrate' | translate}}" type="text"/>
    </div>

    <div class="col-sm-3">
        <input name="name1" ng-model="formData.isFloatingInterestRateCalculationAllowed" type="checkbox"/>
        {{'label.input.isfloatingcalculationallowed' | translate}}
    </div>

</div>

<div class="form-group" ng-show="formData.isLinkedToFloatingInterestRates">
    <label class="control-label col-sm-2">{{ 'label.input.floatinginterestrate' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.floatinginterestrate' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="minValue" name="minValue" ng-model="formData.minDifferentialLendingRate"
               number-format
               placeholder="{{'label.input.minfloatinginterestrate' | translate}}" type="text"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="default" name="default" ng-model="formData.defaultDifferentialLendingRate"
               number-format
               placeholder="{{'label.input.defaultfloatinginterestrate' | translate}}" type="text"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="maxValue" name="maxValue" ng-model="formData.maxDifferentialLendingRate"
               number-format
               placeholder="{{'label.input.maxfloatinginterestrate' | translate}}" type="text"/>
    </div>
</div>
<div class="form-group" ng-show="!formData.isLinkedToFloatingInterestRates">
    <label class="control-label col-sm-2">{{ 'label.input.nominalinterestrate' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.nominalinterestrate' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="minInterestRatePerPeriod" ng-model="formData.minInterestRatePerPeriod"
               placeholder="{{'label.input.minimum' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="interestRatePerPeriod" name="interestRatePerPeriod"
               ng-model="formData.interestRatePerPeriod" placeholder="{{'label.input.default' | translate}}" type="text"/>
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="maxInterestRatePerPeriod" ng-model="formData.maxInterestRatePerPeriod"
               placeholder="{{'label.input.maximum' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <select class="form-control" id="interestRateFrequencyType" ng-model="formData.interestRateFrequencyType"
                ng-options="interestRateFrequencyType.id as interestRateFrequencyType.value for interestRateFrequencyType in product.interestRateFrequencyTypeOptions"
                value="{{interestRateFrequencyType.id}}"></select>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="interestRatePerPeriod" valattributeform="createloanproductform"/>
    </div>
</div>
<div class="form-group" ng-show="formData.useBorrowerCycle">
    <label class="control-label col-sm-2">{{'label.heading.interestRateCycleVariations' | translate}}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.interestratecyclevariations' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <a class="btn btn-primary" ng-click="addInterestRateVariation()">{{ 'label.button.add' | translate }}</a>
    </div>
    <div class="col-md-9 col-sm-offset-2" data-ng-show="irFlag">
        <table class="table">
            <tr class="graybg">
                <th></th>
                <th class="center">{{'label.input.cyclenumber' | translate}}</th>
                <th class="center">{{'label.input.minimum' | translate}}</th>
                <th class="center">{{'label.input.default' | translate}}</th>
                <th class="center">{{'label.input.maximum' | translate}}</th>
                <th></th>
            </tr>
            <tr ng-repeat="borrowerCycleVariation in formData.interestRateVariationsForBorrowerCycle">
                <td class="col-sm-2">
                    <select class="marginleftn19px form-control"
                            id="interestRateValueUsageCondition{{$index}}"
                            ng-model="borrowerCycleVariation.valueConditionType"
                            ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions"
                            value="{{valueConditionType.id}}"></select>
                </td>
                <td><input class="form-control" id="interestRateCycleNumber{{$index}}" ng-model="borrowerCycleVariation.borrowerCycleNumber"
                           type="text"/>
                </td>
                <td>
                    <input class="input-small" id="interestRateborrowerCycleId{{$index}}"
                           ng-model="borrowerCycleVariation.id" type="hidden"/>
                    <input class="form-control" id="mininterestRatePerCycle{{$index}}" ng-model="borrowerCycleVariation.minValue"
                           type="text"/>
                </td>
                <td>
                    <input class="form-control" id="interestRatePerCycle{{$index}}" name="principalPerCycle{{$index}}"
                           ng-model="borrowerCycleVariation.defaultValue"
                           type="text"/>

                </td>
                <td><input class="form-control" id="maxInterestRatePerCycle{{$index}}" ng-model="borrowerCycleVariation.maxValue"
                           type="text"/></td>
                <td><a ng-click="deleteInterestRateVariation($index)"><i
                        class="fa fa-remove "></i></a>

                </td>
            </tr>
        </table>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.repaidevery' | translate }}
        <span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.repaidevery' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="repaymentEvery" late-validate name="repaymentEvery"
               ng-model="formData.repaymentEvery" required type="text"/>
    </div>
    <div class="col-sm-2">
        <select class="form-control" id="repaymentFrequencyType"
                ng-model="formData.repaymentFrequencyType"
                ng-options="repaymentFrequencyType.id as repaymentFrequencyType.value for repaymentFrequencyType in product.repaymentFrequencyTypeOptions"
                value="{{repaymentFrequencyType.id}}"></select>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="repaymentEvery" valattributeform="createloanproductform"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.minimum.days.between.disbursal.and.first.repayment'
        | translate }}</label>

    <div class="col-sm-2">
        <input class="form-control" id="minimumDaysBetweenDisbursalAndFirstRepayment"
               ng-model="formData.minimumDaysBetweenDisbursalAndFirstRepayment" type="text">
    </div>
</div>
<h3>{{ 'label.heading.settings' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.amortization' | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.amortization' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="amortizationType" ng-model="formData.amortizationType"
                ng-options="amortizationType.id as amortizationType.value for amortizationType in product.amortizationTypeOptions"
                value="{{amortizationType.id}}"></select>
    </div>
    <label class="control-label col-sm-3 col-sm-offset-1">{{ 'label.input.interestmethod' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.interest' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="interestType" ng-model="formData.interestType"
                ng-options="interestType.id as interestType.value for interestType in product.interestTypeOptions"
                value="{{interestType.id}}"></select>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.interestcalculationperiod' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.interestcalculationperiod' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="interestCalculationPeriodType"
                ng-model="formData.interestCalculationPeriodType"
                ng-options="interestCalculationPeriodType.id as interestCalculationPeriodType.value for interestCalculationPeriodType in product.interestCalculationPeriodTypeOptions"
                value="{{interestCalculationPeriodType.id}}"></select>
    </div>
    <label class="control-label col-sm-3 col-sm-offset-1" ng-show="formData.interestCalculationPeriodType == 1">{{ 'label.input.allowpartialperiodinterestcalcualtion' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.allowpartialperiodinterestcalcualtion' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2"  ng-show="formData.interestCalculationPeriodType == 1">
        <label class="checkbox">
            <input id="allowPartialPeriodInterestCalcualtion" name="allowPartialPeriodInterestCalcualtion" ng-model="formData.allowPartialPeriodInterestCalcualtion"
                   required type="checkbox">
        </label>
    </div>
    <div class="col-sm-2">
        <form-validate valattribute="allowPartialPeriodInterestCalcualtion" valattributeform="createloanproductform"/>
    </div>
</div>

<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.repaymentstrategy' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.repaymentstrategy' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="transactionProcessingStrategyId"
                ng-model="formData.transactionProcessingStrategyId"
                ng-options="transactionProcessingStrategy.id as transactionProcessingStrategy.name for transactionProcessingStrategy in product.transactionProcessingStrategyOptions"
                value="{{transactionProcessingStrategy.id}}"></select>
    </div>
</div>
<div class="form-group">
    <br>
    <label class="control-label col-sm-2">{{ 'label.input.grace' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.moratorium' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="graceOnPrincipalPayment"
               ng-model="formData.graceOnPrincipalPayment"
               placeholder="{{'label.input.onprincipalpayment' | translate}}" type="text">
    </div>
    <div class="col-sm-2">
        <input class="form-control" id="graceOnInterestPayment"
               ng-model="formData.graceOnInterestPayment" placeholder="{{'label.input.oninterestpayment' | translate}}" type="text">
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.interestfreeperiod' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.interestfreeperiod' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="graceOnInterestCharged" ng-model="formData.graceOnInterestCharged" type="text">
    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.arearstolerance' | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.arearstolerance' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="inArrearsTolerance" ng-model="formData.inArrearsTolerance" number-format
               type="text">
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{'label.input.daysinyears' | translate }}<span
            class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.daysinyear' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="daysInYearType" ng-model="formData.daysInYearType"
                ng-options="type.id as type.value for type in product.daysInYearTypeOptions"
                value="{{type.id}}"></select>
    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.daysinmonth' |
        translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.daysinmonth' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="daysInMonthType" ng-model="formData.daysInMonthType"
                ng-options="type.id as type.value for type in product.daysInMonthTypeOptions"
                value="{{type.id}}"></select>
    </div>
</div>

<div class="form-group">
    <label class="control-label col-sm-4">{{ 'label.input.candefineinstallmentamount' | translate }}</label>

    <div class="col-sm-2 checkbox">
        <label>
            <input ng-model="formData.canDefineInstallmentAmount" type="checkbox"/>
        </label>
    </div>
</div>

<div class="form-group">
    <label class="control-label col-sm-4">{{ 'label.input.no.of.overdue.days.to.move.loan.into.arrears'
        | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.numberofdays' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="graceOnArrearsAgeing" ng-model="formData.graceOnArrearsAgeing"
               placeholder="{{'label.input.onduedate' | translate}}" type="text">
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-4">{{ 'label.input.no.of.overdue.days.to.change.loan.into.npa'
        | translate }}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.maxNumberofDays' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="overdueDaysForNPA"
               ng-model="formData.overdueDaysForNPA"
               placeholder="{{'label.input.overduedaysfornpa' | translate}}" type="text">
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-4">{{'label.input.loan.account.moves.out.of.npa.only.on.arrears.completion'
        | translate }}<span class="required">*</span></label>

    <div class="col-sm-2 checkbox">
        <label>
            <input id="accountMovesOutOfNPAOnlyOnArrearsCompletion" name="accountMovesOutOfNPAOnlyOnArrearsCompletion"
                   ng-model="formData.accountMovesOutOfNPAOnlyOnArrearsCompletion" required type="checkbox">
        </label>
    </div>
     <div class="col-sm-2">
        <form-validate valattribute="accountMovesOutOfNPAOnlyOnArrearsCompletion" valattributeform="createloanproductform"/>
    </div>
</div>

<div class="form-group">
    <label class="control-label col-sm-4">{{ 'label.input.thresholdforlastinstallment' | translate }}</label>

    <div class="col-sm-2">
        <input class="form-control" id="principalThresholdForLastInstallment" ng-model="formData.principalThresholdForLastInstallment"
               type="text">
    </div>
</div>

<div class="form-group">
    <div class="col-sm-3">
        <input name="name1" ng-model="formData.allowVariableInstallments" type="checkbox"/>
        {{'label.input.isvariableinstallmentsallowed' | translate}}
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.loanproduct.variableinstallments' | translate}}"
           tooltip-append-to-body="true"></i>
    </div>
</div>

<div class="form-group" ng-show="formData.allowVariableInstallments">
    <label class="control-label col-sm-2">{{ 'label.input.variableinstallments' | translate }}
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="minimumgap" name="minimumgap" ng-model="formData.minimumGap"
               number-format
               placeholder="{{'label.input.minimumgap' | translate}}" type="text"/>
    </div>

    <div class="col-sm-2">
        <input class="form-control" id="maximumgap" name="maximumgap" ng-model="formData.maximumGap"
               number-format
               placeholder="{{'label.input.maximumgap' | translate}}" type="text"/>
    </div>
</div>

<div class="form-group">
    <div class="col-sm-3">
        <input name="canUseForTopup" ng-model="formData.canUseForTopup" type="checkbox"/>
        {{'label.input.canUseForTopup' | translate}}
        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.canUseForTopup' | translate}}"
           tooltip-append-to-body="true"></i>
    </div>
</div>


<h3>{{ 'label.heading.interestRecalculation' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.recalculateinterest' | translate }}</label>

    <div class="col-sm-2 checkbox">
        <label>
            <input ng-model="formData.isInterestRecalculationEnabled" type="checkbox"/>
        </label>
    </div>
</div>

<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
    <label class="control-label col-sm-2">{{'label.input.preclose.interest.calculation.strategy'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.preclosureinterestcalculationstrategy' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="preClosureInterestCalculationStrategy"
                ng-model="formData.preClosureInterestCalculationStrategy"
                ng-options="type.id as type.code | translate for type in product.preClosureInterestCalculationStrategyOptions"
                value="{{type.id}}"></select>
    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{'label.input.interest.recalculation.reschdule.strategy'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.advancepayments' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="rescheduleStrategyMethod"
                ng-model="formData.rescheduleStrategyMethod"
                ng-options="type.id as type.value for type in product.rescheduleStrategyTypeOptions"
                value="{{type.id}}"></select>
    </div>
</div>

<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
    <label class="control-label col-sm-2">{{'label.input.interest.recalculation.compounding.method'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.interestrecalculation' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="interestRecalculationCompoundingMethod"
                ng-model="formData.interestRecalculationCompoundingMethod"
                ng-options="type.id as type.value for type in product.interestRecalculationCompoundingTypeOptions"
                value="{{type.id}}"></select>
    </div>
</div>

<div class="form-group"
     data-ng-show="formData.isInterestRecalculationEnabled && formData.interestRecalculationCompoundingMethod != 0">
    <label class="control-label col-sm-2">{{'label.input.frequency.for.compounding'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.frequencytocompounding' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="recalculationCompoundingFrequencyType"
                ng-model="formData.recalculationCompoundingFrequencyType"
                ng-options="type.id as type.value for type in product.interestRecalculationFrequencyTypeOptions"
                value="{{type.id}}"></select>
    </div>

    <div>
        <div class="col-sm-2" data-ng-show="formData.recalculationCompoundingFrequencyType == 4">
            <select class="form-control" id="recalculationCompoundingFrequencyNthDayType" ng-model="formData.recalculationCompoundingFrequencyNthDayType"
                    ng-options="recalculationCompoundingFrequencyNthDayType.id as recalculationCompoundingFrequencyNthDayType.value for recalculationCompoundingFrequencyNthDayType in product.interestRecalculationNthDayTypeOptions"
                    value="{{recalculationCompoundingFrequencyNthDayType.id}}"><option value=""></option><option value="onDay">On day</option></select>&nbsp;
        </div>
        <div class="col-sm-2" data-ng-show="(formData.recalculationCompoundingFrequencyType == 4 && formData.recalculationCompoundingFrequencyNthDayType != -2) || formData.recalculationCompoundingFrequencyType == 3">
            <select class="form-control" id="recalculationCompoundingFrequencyDayOfWeekType" ng-model="formData.recalculationCompoundingFrequencyDayOfWeekType"
                    ng-options="recalculationCompoundingFrequencyDayOfWeekType.id as recalculationCompoundingFrequencyDayOfWeekType.value for recalculationCompoundingFrequencyDayOfWeekType in product.interestRecalculationDayOfWeekTypeOptions"
                    value="{{recalculationCompoundingFrequencyDayOfWeekType.id}}"><option value="">DAY</option></select>&nbsp;
        </div>
        <div class="col-sm-2" data-ng-show="formData.recalculationCompoundingFrequencyType == 4 && formData.recalculationCompoundingFrequencyNthDayType == -2">
            <select class="form-control" id="recalculationCompoundingFrequencyOnDayType" ng-model="formData.recalculationCompoundingFrequencyOnDayType"
                    ng-options="recalculationCompoundingFrequencyOnDayType as recalculationCompoundingFrequencyOnDayType for recalculationCompoundingFrequencyOnDayType in interestRecalculationOnDayTypeOptions"
                    value="{{recalculationCompoundingFrequencyOnDayType}}"></select>&nbsp;
        </div>
    </div>
</div>
<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled && formData.interestRecalculationCompoundingMethod != 0
        && formData.recalculationCompoundingFrequencyType != 1">
    <label class="control-label col-sm-2">{{'label.input.frequenc.interval.for.compounding'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.frequencycompoundinginterval' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="recalculationCompoundingFrequencyInterval" ng-model="formData.recalculationCompoundingFrequencyInterval"
               type="text">
    </div>

</div>


<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
    <label class="control-label col-sm-2">{{'label.input.frequency.for.recalculte.outstanding.principal'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.frequencytorecalculate' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select class="form-control" id="recalculationRestFrequencyType"
                ng-model="formData.recalculationRestFrequencyType"
                ng-options="type.id as type.value for type in product.interestRecalculationFrequencyTypeOptions"
                value="{{type.id}}"></select>
    </div>
    <div>
        <div class="col-sm-2" data-ng-show="formData.recalculationRestFrequencyType == 4">
            <select class="form-control" id="recalculationRestFrequencyNthDayType" ng-model="formData.recalculationRestFrequencyNthDayType"
                    ng-options="recalculationRestFrequencyNthDayType.id as recalculationRestFrequencyNthDayType.value for recalculationRestFrequencyNthDayType in product.interestRecalculationNthDayTypeOptions"
                    value="{{recalculationRestFrequencyNthDayType.id}}"><option value=""></option></select>&nbsp;
        </div>
        <div class="col-sm-2" data-ng-show="(formData.recalculationRestFrequencyType == 4 && formData.recalculationRestFrequencyNthDayType != -2) || formData.recalculationRestFrequencyType == 3">
            <select class="form-control" id="recalculationRestFrequencyDayOfWeekType" ng-model="formData.recalculationRestFrequencyDayOfWeekType"
                    ng-options="recalculationRestFrequencyDayOfWeekType.id as recalculationRestFrequencyDayOfWeekType.value for recalculationRestFrequencyDayOfWeekType in product.interestRecalculationDayOfWeekTypeOptions"
                    value="{{recalculationRestFrequencyDayOfWeekType.id}}"><option value=""></option></select>&nbsp;
        </div>
        <div class="col-sm-2" data-ng-show="formData.recalculationRestFrequencyType == 4 && formData.recalculationRestFrequencyNthDayType == -2">
            <select class="form-control" id="recalculationRestFrequencyOnDayType" ng-model="formData.recalculationRestFrequencyOnDayType"
                    ng-options="recalculationRestFrequencyOnDayType as recalculationRestFrequencyOnDayType for recalculationRestFrequencyOnDayType in interestRecalculationOnDayTypeOptions"
                    value="{{recalculationRestFrequencyOnDayType}}"></select>&nbsp;
        </div>
    </div>
</div>
<div class="form-group"
     data-ng-show="formData.isInterestRecalculationEnabled && formData.recalculationRestFrequencyType != 1">
    <label class="control-label col-sm-2">{{'label.input.frequenc.interval.for.recalculte.outstanding.principal'
        | translate }}<span class="required">*</span>
        <i class="fa fa-question-sign" tooltip="{{'label.tooltip.frequencyInterval' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="recalculationRestFrequencyInterval" ng-model="formData.recalculationRestFrequencyInterval"
               type="text">
    </div>

</div>

<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
    <label class="control-label col-sm-2">{{'label.input.arrearsbasedonoriginalschedule'
        | translate }}<span class="required">*</span></label>

    <div class="col-sm-2 checkbox">
        <label>
            <input id="isArrearsBasedOnOriginalSchedule" ng-model="formData.isArrearsBasedOnOriginalSchedule"
                   type="checkbox">
        </label>
    </div>
</div>

<h3>{{ 'label.heading.gauranteeRequirements' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.holdguaranteefunds' | translate }}</label>

    <div class="col-sm-2 checkbox">
        <label>
            <input ng-model="formData.holdGuaranteeFunds" type="checkbox"/>
        </label>
    </div>
</div>

<div class="form-group" data-ng-show="formData.holdGuaranteeFunds">
    <label class="control-label col-sm-2">{{'label.input.mandatory.guarantee'
        | translate }}<span class="required">*</span></label>

    <div class="col-sm-2">
        <input class="form-control" id="mandatoryGuarantee" ng-model="formData.mandatoryGuarantee" type="text"/>

    </div>
</div>

<div class="form-group" data-ng-show="formData.holdGuaranteeFunds">
    <label class="control-label col-sm-2">{{'label.input.minimum.guarantee.from.own.funds'
        | translate }}</label>

    <div class="col-sm-2">
        <input class="form-control" id="minimumGuaranteeFromOwnFunds" ng-model="formData.minimumGuaranteeFromOwnFunds"
               type="text"/>

    </div>
    <label class="control-label col-sm-2 col-sm-offset-2">{{'label.input.minimum.guarantee.from.guarantor'
        | translate }}</label>

    <div class="col-sm-2"><input class="form-control" id="minimumGuaranteeFromGuarantor" ng-model="formData.minimumGuaranteeFromGuarantor"
                                 type="text"/>
    </div>
</div>

<h3>{{ 'label.heading.tranchedetails' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.multidisburseloan' | translate }}
        <i class="fa fa-question-circle" tooltip-append-to-body="true"
           uib-tooltip="{{'label.tooltip.isMultiDisburseLoan' | translate}}"></i>
    </label>

    <div class="checkbox col-sm-2">
        <label>
            <input ng-model="formData.multiDisburseLoan" type="checkbox" />
        </label>
    </div>
</div>
<div class="form-group" ng-show="formData.multiDisburseLoan">
    <label class="control-label col-sm-2">{{ 'label.input.maxtranchecount' | translate }}
        <i class="fa fa-question-circle" tooltip-append-to-body="true"
           uib-tooltip="{{'label.tooltip.maxtranchecount' | translate}}"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="maxTrancheCount" name="maxTrancheCount" ng-model="formData.maxTrancheCount"
               type="text"/>
    </div>
    <label class="control-label col-sm-3 col-sm-offset-1">{{ 'label.input.outstandingloanbalance' | translate }}
        <i class="fa fa-question-circle" tooltip-append-to-body="true"
           uib-tooltip="{{'label.tooltip.maxAllowedOutstandingBalance' | translate}}"></i>
    </label>

    <div class="col-sm-2">
        <input class="form-control" id="outstandingLoanBalance" name="outstandingLoanBalance"
               ng-model="formData.outstandingLoanBalance" number-format type="text"/>
    </div>
</div>
<h3>{{ 'label.heading.configurableAttributes' | translate }}</h3>
<hr>
<div class="form-group">
    <label class="control-label col-sm-2 width20">{{ 'label.input.isConfigLoanAttributes' | translate }}</label>

    <div class="checkbox col-sm-2">
        <label>
            <input ng-change="setAttributeValues()" ng-model="allowAttributeConfiguration" type="checkbox"/>
        </label>
    </div>
</div>
<div class="form-group" ng-show="allowAttributeConfiguration">
    <label class="control-label col-sm-1 width20">{{ 'label.input.amortization' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="amortization" type="checkbox"/>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.interestmethod' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="interestMethod" type="checkbox"/>
    </div>
</div>
<div class="form-group" ng-show="allowAttributeConfiguration">
    <label class="control-label col-sm-1 width20">{{ 'label.input.repaymentstrategy' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="transactionProcessingStrategy" type="checkbox"/>
    </div>
    <label class="control-label col-sm-2 ">{{ 'label.input.interestcalculationperiod' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="interestCalcPeriod" type="checkbox"/>
    </div>
</div>
<div class="form-group" ng-show="allowAttributeConfiguration">

    <label class="control-label col-sm-1 width20">{{ 'label.input.arearstolerance' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="arrearsTolerance" type="checkbox"/>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.repaidevery' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="repaymentFrequency" type="checkbox"/>
    </div>
</div>
<div class="form-group" ng-show="allowAttributeConfiguration">

    <label class="control-label col-sm-1 width20">{{ 'label.input.grace' | translate }}</label>

    <div class="col-sm-2">
        <input ng-model="graceOnPrincipalAndInterest" type="checkbox"/>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.no.of.overdue.days.to.move.loan.into.arrears' | translate
        }}</label>

    <div class="col-sm-2">
        <input ng-model="graceOnArrearsAging" type="checkbox"/>
    </div>
</div>
<h3>{{ 'label.heading.charges' | translate }}</h3>
<hr>
<div class="form-group">
    <div class="col-sm-3">
        <select class="form-control" id="chargeId" ng-model="chargeId"
                ng-options="charge.id as charge.name for charge in product.chargeOptions | filter:filterCharges(formData.currencyCode, formData.multiDisburseLoan)"
                value="{{charge.id}}">
            <option class="displaynone" value="">{{'label.selectcharge' | translate}}</option>
        </select>
    </div>
    <div class="col-sm-1">
        <button class="btn btn-primary" ng-click="chargeSelected(chargeId)"
                type="button">{{ 'label.button.add' | translate }}
        </button>
    </div>
</div>
<div class="form-group col-md-12">
    <table class="table width100" data-ng-show="chargeFlag">
        <tr class="graybg">
            <th>{{'label.heading.name' | translate}}</th>
            <th>{{'label.heading.type' | translate}}</th>
            <th></th>
            <th>{{'label.heading.amount' | translate}}</th>
            <th></th>
            <th>{{'label.heading.collectedon' | translate}}</th>
            <th></th>
            <th>{{'label.heading.date' | translate}}</th>
            <th></th>
            <th>{{'label.heading.actions' | translate}}</th>
        </tr>
        <tr ng-hide="charge.penalty" ng-repeat="charge in charges">
            <td>{{charge.name}},{{charge.currency.displaySymbol}}</td>
            <td>{{charge.chargeCalculationType.value}}</td>
            <td></td>
            <td>{{charge.amount}}</td>
            <td></td>
            <td>{{charge.chargeTimeType.value}}</td>
            <td></td>
            <td></td>
            <td></td>
            <td><a ng-click="deleteCharge($index)"><i class="fa fa-times"></i></a></td>
        </tr>
    </table>
</div>
<h3>{{ 'label.heading.overduepenalitycharge' | translate }}</h3>
<hr>
<div class="form-group">
    <div class="col-sm-3">
        <select class="form-control" id="penalityId" ng-model="penalityId"
                ng-options="penality.id as penality.name for penality in overduecharges | filter:formData.currencyCode:strict"
                value="{{penality.id}}">
            <option class="displaynone" value="">{{'label.selectoverduecharge' | translate}}</option>
        </select>
    </div>
    <div class="col-sm-1">
        <button class="btn btn-primary" ng-click="chargeSelected(penalityId)"
                type="button">{{ 'label.button.add' | translate }}
        </button>
    </div>
</div>
<div class="form-group col-md-12">
    <table class="table width100" data-ng-show="penalityFlag">
        <tr class="graybg">
            <th>{{'label.heading.name' | translate}}</th>
            <th>{{'label.heading.type' | translate}}</th>
            <th></th>
            <th>{{'label.heading.amount' | translate}}</th>
            <th></th>
            <th>{{'label.heading.collectedon' | translate}}</th>
            <th></th>
            <th>{{'label.heading.date' | translate}}</th>
            <th></th>
            <th>{{'label.heading.actions' | translate}}</th>
        </tr>
        <tr ng-repeat="charge in charges" ng-show="charge.penalty">
            <td>{{charge.name}},{{charge.currency.displaySymbol}}</td>
            <td>{{charge.chargeCalculationType.value}}</td>
            <td></td>
            <td>{{charge.amount}}</td>
            <td></td>
            <td>{{charge.chargeTimeType.value}}</td>
            <td></td>
            <td></td>
            <td></td>
            <td><a ng-click="deleteCharge($index)"><i class="fa fa-times "></i></a></td>
        </tr>
    </table>
</div>
<h3>{{ 'label.heading.accounting' | translate }}</h3>
<hr>
<div class="radio-inline">
    <label>
        <input ng-model="formData.accountingRule" type="radio" value="1"/>{{'label.input.none' | translate}}
    </label>
</div>
<div class="radio-inline">
    <label>
        <input ng-model="formData.accountingRule" type="radio" value="2"/>{{'label.input.cash' | translate}}
    </label>
</div>
<div class="radio-inline">
    <label>
        <input ng-model="formData.accountingRule" type="radio" value="3"/>{{'label.input.periodicaccrual' | translate}}
    </label>
</div>
<div class="radio-inline">
    <label>
        <input ng-model="formData.accountingRule" type="radio" value="4"/>{{'label.input.upfrontaccrual' | translate}}
    </label>
</div>
<hr>
<div class="col-md-12" ng-show="isAccountingEnabled()">
<div class="form-group">
    <h4>{{"label.heading.assets" | translate}}</h4>
    <label class="control-label col-sm-2">{{ 'label.input.fundsource' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.fundsource' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="assetAccountOptions" id="fundSourceAccountId" ng-model="formData.fundSourceAccountId"
                ng-options="assetAccount.id as assetAccount.name for assetAccount in assetAccountOptions"
                value="{{assetAccount.id}}">
        </select>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.loanportfolio' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.loanportfolio' | translate}}"></i></a>
    <div class="col-sm-3">
        <select chosen="assetAccountOptions" class="form-control" id="loanPortfolioAccountId"
                ng-model="formData.loanPortfolioAccountId"
                ng-options="assetAccount.id as assetAccount.name for assetAccount in assetAccountOptions"
                value="{{assetAccount.id}}">
        </select>
    </div>
</div>
<div class="form-group" ng-show="isAccrualAccountingEnabled()">
    <label class="control-label col-sm-2">{{ 'label.input.receivableinterest' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.receivableinterest' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="assetAccountOptions" class="form-control"
                id="receivableInterestAccountId" ng-model="formData.receivableInterestAccountId"
                ng-options="assetAccount.id as assetAccount.name for assetAccount in assetAccountOptions"
                value="{{assetAccount.id}}">
        </select>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.receivablefees' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.receivablefees' | translate}}"></i></a>
    <div class="col-sm-3">
        <select chosen="assetAccountOptions" id="receivableFeeAccountId"
                ng-model="formData.receivableFeeAccountId"
                ng-options="assetAccount.id as assetAccount.name for assetAccount in assetAccountOptions"
                value="{{assetAccount.id}}">
        </select>
    </div>
</div>
<div class="form-group" ng-show="isAccrualAccountingEnabled()">
    <label class="control-label col-sm-2">{{ 'label.input.receivablepenalties' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.receivablepenalties' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="assetAccountOptions" id="receivablePenaltyAccountId"
                ng-model="formData.receivablePenaltyAccountId"
                ng-options="assetAccount.id as assetAccount.name for assetAccount in assetAccountOptions"
                value="{{assetAccount.id}}">
        </select>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.transfersinsuspense' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 "
       tooltip="{{'label.tooltip.transfersinsuspense' | translate}}"></i></a>
    <div class="col-sm-3">
        <select chosen="assetAccountOptions" id="transfersInSuspenseAccountId"
                ng-model="formData.transfersInSuspenseAccountId"
                ng-options="assetAccount.id as assetAccount.name for assetAccount in assetAccountOptions"
                value="{{assetAccount.id}}">
        </select>
    </div>
</div>
<hr>
<div class="form-group">
    <h4>{{"label.heading.income" | translate}}</h4>
    <label class="control-label col-sm-2">{{ 'label.input.incomefrominterest' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.incomefrominterest' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="incomeAccountOptions" id="interestOnLoanAccountId"
                ng-model="formData.interestOnLoanAccountId"
                ng-options="incomeAccount.id as incomeAccount.name for incomeAccount in incomeAccountOptions"
                value="{{incomeAccount.id}}">
        </select>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.incomefromfees' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.incomefromfees' | translate}}"></i></a>
    <div class="col-sm-3">
        <select chosen="incomeAccountOptions" id="incomeFromFeeAccountId"
                ng-model="formData.incomeFromFeeAccountId"
                ng-options="incomeAccount.id as incomeAccount.name for incomeAccount in incomeAccountOptions"
                value="{{incomeAccount.id}}">
        </select>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.incomefrompenalties' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.incomefrompenalties' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="incomeAccountOptions" id="incomeFromPenaltyAccountId"
                ng-model="formData.incomeFromPenaltyAccountId"
                ng-options="incomeAccount.id as incomeAccount.name for incomeAccount in incomeAccountOptions"
                value="{{incomeAccount.id}}">
        </select>
    </div>
    <label class="control-label col-sm-2">{{ 'label.input.recoverypayments' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 "
       tooltip="{{'label.tooltip.recoverypayments' | translate}}"></i></a>
    <div class="col-sm-3">
        <select chosen="incomeAccountOptions" id="incomeFromRecoveryAccountId"
                ng-model="formData.incomeFromRecoveryAccountId"
                ng-options="incomeAccount.id as incomeAccount.name for incomeAccount in incomeAccountOptions"
                value="{{incomeAccount.id}}">
        </select>
    </div>
</div>
<hr>
<div class="form-group">
    <h4>{{"label.heading.expenses" | translate}}</h4>
    <label class="control-label col-sm-2">{{ 'label.input.loseswrittenoff' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 " tooltip="{{'label.tooltip.loseswrittenoff' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="expenseAccountOptions" id="writeOffAccountId" ng-model="formData.writeOffAccountId"
                ng-options="expenseAccount.id as expenseAccount.name for expenseAccount in expenseAccountOptions"
                value="{{expenseAccount.id}}">
        </select>
    </div>
</div>
<hr>
<div class="form-group">
    <h4>{{"label.heading.liabilities" | translate}}</h4>
    <label class="control-label col-sm-2">{{ 'label.input.overpaymentliability' | translate }}</label>
    <i class="fa fa-question-sign col-sm-1 "
       tooltip="{{'label.tooltip.overpaymentliability' | translate}}"></i>

    <div class="col-sm-3">
        <select chosen="liabilityAccountOptions" id="overpaymentLiabilityAccountId"
                ng-model="formData.overpaymentLiabilityAccountId"
                ng-options="liabilityAccount.id as liabilityAccount.name for liabilityAccount in liabilityAccountOptions"
                value="{{liabilityAccount.id}}">
        </select>
    </div>
</div>
<hr>
<h4>{{'label.heading.advancedaccountingrules' | translate}}[<a ng-click="showOrHide(showOrHideValue)">{{showOrHideValue}}</a>]
</h4>

<div class="col-md-12" ng-show="showOrHideValue == 'hide'">
    <div class="col-md-8">{{'label.heading.configurefundsourcesforpaymentchannels' | translate}}</div>
    <div class="col-md-4">
        <a class="btn btn-primary" ng-click="addConfigureFundSource()">{{ 'label.button.add' | translate }}</a>
    </div>
    <table class="table" data-ng-show="frFlag">
        <tr class="graybg">
            <th class="width30">{{'label.heading.paymenttype' | translate}}</th>
            <th></th>
            <th class="width30">{{'label.heading.fundsource' | translate}}</th>
            <th></th>
            <th class="width30">{{'label.heading.actions' | translate}}</th>
        </tr>
        <tr ng-repeat="configureFundOption in configureFundOptions">
            <td class="width30">
                <select class="form-control"
                        id="configureFundOptions[{{$index}}].paymentTypeId"
                        ng-model="configureFundOption.paymentTypeId"
                        ng-options="paymentType.id as paymentType.name for paymentType in configureFundOption.paymentTypeOptions"
                        value="{{paymentType.id}}">
                </select>
            </td>
            <td></td>
            <td class="width30">
                <select chosen="configureFundOption.assetAccountOptions"
                        id="configureFundOptions[{{$index}}].fundSourceAccountId"
                        ng-model="configureFundOption.fundSourceAccountId"
                        ng-options="assetAccount.id as assetAccount.name for assetAccount in configureFundOption.assetAccountOptions"
                        value="{{assetAccount.id}}">
                </select>
            </td>
            <td></td>
            <td class="width30">
                <a ng-click="deleteFund($index)"><i class="fa fa-remove "></i></a>
            </td>
        </tr>
    </table>
    <div class="col-md-8">{{'label.heading.mapfeestoincomeaccounts' | translate}}</div>
    <div class="col-md-4">
        <a class="btn btn-primary" ng-click="mapFees()">{{ 'label.button.add' | translate }}</a>
    </div>
    <table class="table width100" data-ng-show="fiFlag">
        <tr class="graybg">
            <th class="width30">{{'label.heading.fees' | translate}}</th>
            <th></th>
            <th class="width30">{{'label.heading.incomeaccount' | translate}}</th>
            <th></th>
            <th class="width30">{{'label.heading.actions' | translate}}</th>
        </tr>
        <tr ng-repeat="specificMapping in specificIncomeAccountMapping">
            <td class="width30">
                <select class="form-control"
                        id="specificIncomeAccountMapping[{{$index}}].chargeId" ng-model="specificMapping.chargeId"
                        ng-options="charge.id as charge.name for charge in chargeOptions"
                        value="{{charge.id}}">
                </select>
            </td>
            <td></td>
            <td class="width30">
                <select chosen="incomeAndLiabilityAccountOptions"
                        id="specificIncomeAccountMapping[{{$index}}].incomeAccountId"
                        ng-model="specificMapping.incomeAccountId"
                        ng-options="account.id as account.name for account in incomeAndLiabilityAccountOptions"
                        value="{{account.id}}">
                </select>
            </td>
            <td></td>
            <td class="width30">
                <a ng-click="deleteFee($index)"><i class="fa fa-remove "></i></a>
            </td>
        </tr>
    </table>
    <div class="col-md-8">{{'label.heading.mappenaltiestospecificincomeaccounts' | translate}}</div>
    <div class="col-md-4">
        <a class="btn btn-primary" ng-click="mapPenalty()">{{ 'label.button.add' | translate }}</a>
    </div>
    <table class="table" data-ng-show="piFlag">
        <tr class="graybg">
            <th class="width30">{{'label.heading.penalty' | translate}}</th>
            <th></th>
            <th class="width30">{{'label.heading.incomeaccount' | translate}}</th>
            <th></th>
            <th class="width30">{{'label.heading.actions' | translate}}</th>
        </tr>
        <tr ng-repeat="penaltySpecificIncomeaccount in penaltySpecificIncomeaccounts">
            <td class="width30">
                <select class="form-control"
                        id="penaltySpecificIncomeaccounts[{{$index}}].chargeId"
                        ng-model="penaltySpecificIncomeaccount.chargeId"
                        ng-options="charge.id as charge.name for charge in penaltyOptions"
                        value="{{charge.id}}">
                </select>
            </td>
            <td></td>
            <td class="width30">
                <select class="form-control"
                        id="penaltySpecificIncomeaccounts[{{$index}}].incomeAccountId"
                        ng-model="penaltySpecificIncomeaccount.incomeAccountId"
                        ng-options="account.id as account.name for account in incomeAccountOptions"
                        value="{{account.id}}">
                </select>
            </td>
            <td></td>
            <td class="width30"><i class="fa fa-remove" ng-click="deletePenalty($index)"></i></td>
        </tr>
    </table>
</div>
</div>
<div class="col-md-offset-5 paddedtop">
    <button class="btn btn-warning" id="cancel" ng-click="cancel()" type="reset">{{'label.button.cancel' | translate}}
    </button>
    <button class="btn btn-primary" has-permission='CREATE_LOANPRODUCT' id="save" ng-click="submit()" type="submit">{{'label.button.save'
        | translate}}
    </button>
</div>
</fieldset>
</form>
</div>
